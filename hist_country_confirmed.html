<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">  
  
<script>
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);
    google.charts.setOnLoadCallback(drawChart2);
    google.charts.setOnLoadCallback(drawChart3);
    google.charts.setOnLoadCallback(drawChart4);
    google.charts.setOnLoadCallback(drawChart5);
    google.charts.setOnLoadCallback(drawChart6);
    google.charts.setOnLoadCallback(drawChart7);

    var ajax = new XMLHttpRequest();
    ajax.open("GET", "faired_countries.php", false);
    ajax.send();



    ajax.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var data = JSON.parse(this.responseText);
            
        }
        return data;
    };

    function retrieval(){
          var data= ajax.onreadystatechange();
          return data;
    };

    function final(){
      var data=retrieval();
      return data;
    };
    function drawChart(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='Asia'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);

          //document.write(typeof(arr5[0][1]));

          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across Asian countries',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
          
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart1'));

          chart1.draw(data, options);
        }
        
        function drawChart2(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='Africa'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);


          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across African countries',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart2'));

          chart1.draw(data, options);
        }
    
        function drawChart3(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='Europe'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);


          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across European countries',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart3'));

          chart1.draw(data, options);
        }
        function drawChart4(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='North_America'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);


          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across North American countries',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart4'));

          chart1.draw(data, options);
        }

        function drawChart5(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='South_America'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);


          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across South American countries',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart5'));

          chart1.draw(data, options);
        }
        function drawChart6(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='Others'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);


          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across Others',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart6'));

          chart1.draw(data, options);
        }
        function drawChart7(){
        

        var arr1= [
          ['Country', 'Confirmed Count'],
          ];
          var data= ajax.onreadystatechange();

          var arr5 = [];
          
          for(i=0; i<data.length; i++){
              if(data[i][5]=='Australia'){
                  arr5.push([data[i][0],Number(data[i][2])]);
              }
          }
          arr5=arr1.concat(arr5);


          var data = google.visualization.arrayToDataTable(arr5);
          var options = {
          title: 'Number of confirmed cases across Australian Countries',
          legend: { position: 'none' },
          bar: { gap: 10 },
          colors: ['darkblue'],
          vAxis: {
                    title: 'Number of Countries',
                    titleTextStyle: {
                            bold: true,
                            italic: false }
                },
          hAxis: {
                title: 'Cases Range',
                titleTextStyle: {
                            bold: true,
                            italic: false }
            },
        };

          var chart1 = new google.visualization.Histogram(document.getElementById('barchart7'));

          chart1.draw(data, options);
        }
</script>
<div class="container-fluid" style="align-items: center;padding-left:60px; ">
    <div class="row">
        <div class="col-lg-6">
            <div class="container-fluid" id="barchart1"  style="width: 600px; height: 600px; align-items: center; "></div>
        </div>
        <div class="col-lg-6">
            <div class="container-fluid" id="barchart2"  style="width: 600px; height: 600px; align-items: center; "></div>
        </div>
    </div>
</div>
<div class="container-fluid" style="align-items: center;padding-left:60px; ">
    <div class="row">
        <div class="col-lg-6">
            <div class="container-fluid" id="barchart3"  style="width: 600px; height: 600px; align-items: center; "></div>
        </div>
        <div class="col-lg-6">
            <div class="container-fluid" id="barchart4"  style="width: 600px; height: 600px; align-items: center; "></div>
        </div>
    </div>
</div>  
<div class="container-fluid" style="align-items: center;padding-left:60px; ">
    <div class="row">
        <div class="col-lg-6">
            <div class="container-fluid" id="barchart5"  style="width: 600px; height: 600px; align-items: center; "></div>
        </div>
        <div class="col-lg-6">
            <div class="container-fluid" id="barchart6"  style="width: 600px; height: 600px; align-items: center; "></div>
        </div>
    </div>
</div>
    <div class="container-fluid" id="barchart7"  style="width: 600px; height: 600px; align-items: center; "></div>
